-- DATA TYPE https://docs.microsoft.com/en-us/sql/t-sql/data-types/data-types-transact-sql?view=sql-server-ver15


CREATE DATABASE florImperialDB;


-- USER ---------------------------------------------------------------

CREATE TABLE userAsRol (
	id_user bigint IDENTITY(1,1) not null,
	id_rol smallint not null,
	usua_asig_rol char(15) not null,
	fech_asig_rol date not null,
	usua_mod_asig char(15),
	fech_mod_rol date,
	ind_act_asig char(1),
	CONSTRAINT PK_UserAsRol PRIMARY KEY(id_user)
);


CREATE TABLE userUsuaRol (
	id_rol smallint IDENTITY(1,1) not null,
	desc_roll varchar(50) not null,
	usua_crea_rol char(15) not null,
	fec_crea_rol date not null,
	usua_mod_rol char(15),
	fech_mod_rol date,
	ind_act_rol char(1),
	CONSTRAINT PK_UserUsuaRol PRIMARY KEY(id_rol)
);


CREATE TABLE userUsuaPer (
	id_user bigint IDENTITY(1,1) not null,
	pass varchar(20) not null,
	pers_id int not null,
	fech_camb_pass date,
	user_crea char(15) not null,
	fech_crea_user date not null,
	fech_vigencia date not null,
	fech_ult_ing date,
	ind_user_act char(1),
	CONSTRAINT PK_UserUsuaPer PRIMARY KEY(id_user)
);


-- PERSONA ----------------------------------------------------------


CREATE TABLE persPersona (
	pers_id int not null,
	numdoc_persona char(18) not null,
	id_tip_doc tinyint not null,
	pri_nombre varchar(25) not null,
	seg_nombre varchar(25),
	pri_apell varchar(25) not null,
	seg_apell varchar(25),
	email_pri varchar(80) not null,
	email_seg varchar(80),
	direcc_resid varchar(80) not null,
	id_ciudad char(5) not null,
	tel_movil char(15) not null,
	tel_fijo char(12) not null,
	id_genero char(1) not null,
	fech_nacim date not null,
	id_tip_persona char(1) not null,
	razon_social varchar(80),
	id_tipo_rh tinyint,
	id_pais_nacim char(3) not null,
	id_tip_nat_pers char(1),
	usua_crea char(15) not null,
	fech_crea date not null,
	usua_mod char(15),
	fec_mod date,
	pers_act char(1) not null,
	CONSTRAINT PK_PersPersona PRIMARY KEY(pers_id)
);


CREATE TABLE persTipoRH (
	id_tipo_rh tinyint IDENTITY(1,1) not null,
	desc_tipo_rh char(3) not null
	CONSTRAINT PK_persTipoRH PRIMARY KEY(id_tipo_rh)
);


CREATE TABLE persGenero (
	id_genero char(1) not null,
	desc_genero char(15) not null,
	CONSTRAINT PK_PersGenero PRIMARY KEY(id_genero)
);



-- UBICACION ---------------------------------------------------------

CREATE TABLE ubicDepto (
	id_depto char(7) not null,
	desc_depto varchar(20) not null,
	id_pais char(3) not null,
	ind_act_depto char(1) not null,
	CONSTRAINT PK_UbicDepto PRIMARY KEY(id_depto)
);


CREATE TABLE ubicPais (
	id_pais char(3) not null,
	desc_pais varchar(50) not null,
	ind_act_pais char(1) not null,
	CONSTRAINT PK_UbicPais PRIMARY KEY(id_pais)
);


CREATE TABLE ubicCiudad (
	id_ciudad char(5) not null,
	desc_ciudad varchar(50) not null,
	id_depto char(7) not null,
	ind_act_ciudad char(1) not null,
	CONSTRAINT PK_UbicCiudad PRIMARY KEY(id_ciudad)
);


CREATE TABLE ubicTipoSede (
	id_tipo_sede tinyint IDENTITY(1,1) not null,
	desc_tipo_sede varchar(50) not null,
	ind_act_tip_sede char(1) not null,
	CONSTRAINT PK_UbicTipoSede PRIMARY KEY(id_tipo_sede)
);


CREATE TABLE ubicSede (
	id_sede char(3) not null,
	nom_sede char(50) not null,
	direc_sede varchar(20) not null,
	tel_sede char(15) not null,
	id_ciudad char(5) not null,
	tipo_sede tinyint not null,
	ind_act_sede char(1) not null,
	CONSTRAINT PK_UbicSede PRIMARY KEY (id_sede)
);



-- NOMINA ---------------------------------------------------------

CREATE TABLE nomiPeriodo (
	id_periodo int IDENTITY(1,1) not null,
	desc_periodo char(20) not null,
	ind_vig_per char(1) not null,
	CONSTRAINT PK_NomiPeriodo PRIMARY KEY(id_periodo)
);


CREATE TABLE nomiTipoNovedad (
	id_tip_novedad char(3) not null,
	desc_novedad varchar(50) not null,
	ind_tip_nov char(1) not null,
	CONSTRAINT PK_NomiTipoNove PRIMARY KEY(id_tip_novedad)
);


CREATE TABLE nomiNovNomina (
	id_reg_novedad int IDENTITY(1,1) not null,
	cod_uni_emp int not null,
	id_periodo int not null,
	id_tip_novedad char(3) not null,
	cantidad float not null,
	CONSTRAINT PK_NomiNovNomina PRIMARY KEY(id_reg_novedad)
);






















